/* Estilos base (sin cambios) */
:host { 
  display: block; 
  width: 100vw; 
  height: 100vh; 
  background: #1e1e1e; 
  color: #ccc; 
  font-family: Segoe UI, sans-serif; 
  overflow: hidden; 
}

/* --- ESTILOS DE PRELOADER (sin cambios) --- */
.preloader-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(30, 30, 30, 0.95); z-index: 9999; display: flex; align-items: center; justify-content: center; transition: opacity 0.5s ease; }
.preloader-content { text-align: center; color: #e0e0e0; width: 80%; max-width: 400px; }
.preloader-content h1 { font-size: 1.5rem; font-weight: 300; margin-bottom: 20px; letter-spacing: 1px; }
.progress-bar-container { width: 100%; height: 12px; background-color: #3a3a3a; border-radius: 6px; overflow: hidden; box-shadow: inset 0 1px 3px rgba(0,0,0,0.4); }
.progress-bar { height: 100%; background-color: #5294e2; border-radius: 6px; transition: width 0.2s ease-out; }
.progress-text { margin-top: 15px; font-size: 1.2rem; font-weight: 500; color: #ffffff; }

/* ---- ESTILOS DE EDITOR ---- */
.editor-layout { display: grid; grid-template-areas: "header header" "viewport sidebar"; grid-template-columns: 1fr 380px; grid-template-rows: 40px 1fr; width:100%; height:100%; }
.editor-header { grid-area: header; background: #2b2b2b; border-bottom: 1px solid #202020; display: flex; align-items: center; padding: 0 20px; font-weight: bold; }
.viewport { grid-area: viewport; position: relative; overflow: hidden; } 
.sidebar { grid-area: sidebar; background: #2b2b2b; border-left: 1px solid #202020; display: flex; flex-direction: column; overflow: hidden; }
.mobile-sidebar-toggle { display: none; }
.panel-header { background: #353535; padding: 8px 12px; border-bottom: 1px solid #202020; font-weight: 500; user-select: none; }

/* ---- 🎯 NUEVOS ESTILOS: LISTA DE ESCENA TIPO BLENDER ---- */
.scene-list-panel { flex: 1; border: none; border-bottom: 1px solid #202020; min-height: 0; display: flex; flex-direction: column; }
.panel-content { background: #252525; overflow-y: auto; flex-grow: 1; }
.scene-object-list { list-style: none; margin: 0; padding: 0; }

.scene-object-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 12px;
  font-size: 13px;
  color: #c4c4c4;
  /* Borde izquierdo que tomará el color de la posición */
  border-left: 3px solid transparent; 
  /* Línea divisoria entre elementos, como en Blender */
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  transition: background .15s, border-color .15s;
  user-select: none; /* Evita que se seleccione el texto al arrastrar */
}

/* Cursores para indicar interactividad */
.scene-object-item:not(.placeholder-item) { cursor: grab; }
.scene-object-item:not(.placeholder-item):active { cursor: grabbing; }
.scene-object-item:not(.placeholder-item):hover { background-color: rgba(255, 255, 255, 0.08); }

/* Estilos de los placeholders "Añadir objeto" */
.placeholder-item { font-style: italic; color: #777; cursor: pointer; }
.placeholder-item:hover { background-color: rgba(255, 255, 255, 0.05); }

/* Estilos de los iconos */
.object-icon { width: 16px; text-align: center; opacity: 0.7; font-size: 14px; }
.object-name { flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Estilo para el elemento SELECCIONADO (tiene más prioridad que el hover) */
.scene-object-item.selected {
  background-color: #4A82C4; /* Azul de selección de Blender */
  color: #fff;
  border-left-color: #F5B300 !important; /* Borde naranja, !important para que siempre gane al color de posición */
}

/* ---- 🎯 NUEVOS ESTILOS: COLORES POR POSICIÓN EN LA LISTA ---- */
/* Cada clase corresponde a un color de la paleta en el TS */
.scene-object-item.list-color-0 { border-left-color: #88a8d1; }
.scene-object-item.list-color-1 { border-left-color: #a8d188; }
.scene-object-item.list-color-2 { border-left-color: #d188a8; }
.scene-object-item.list-color-3 { border-left-color: #d1a888; }
.scene-object-item.list-color-4 { border-left-color: #88d1d1; }
.scene-object-item.list-color-5 { border-left-color: #d1d188; }

/* ---- 🎯 NUEVOS ESTILOS: EXPERIENCIA VISUAL DE DRAG & DROP ---- */

/* Estilo del elemento "fantasma" que se arrastra */
.cdk-drag-preview {
  box-sizing: border-box;
  border-radius: 3px;
  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);
  background: #3f3f46;
  color: #fff;
}

/* Estilo del espacio que deja el elemento al ser arrastrado */
.cdk-drag-placeholder {
  background: rgba(74, 130, 196, 0.2);
  border-top: 1px solid #4A82C4;
  border-bottom: 1px solid #4A82C4;
  opacity: 1;
  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}

/* Animación suave para los otros elementos cuando se mueven para hacer espacio */
.cdk-drop-list-dragging .cdk-drag {
  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}

/* Ocultamos el elemento original mientras se arrastra, para que solo se vea el placeholder */
.cdk-drag-animating {
  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}

/* ---- ESTILOS DEL PANEL DE PROPIEDADES (sin cambios) ---- */
.properties-container { flex: 1; display: flex; min-height: 0; }
.properties-tabs { width: 40px; background: #2b2b2b; display: flex; flex-direction: column; align-items: center; gap: 1px; border-right: 1px solid #202020; padding: 5px 0; overflow-y: auto; overflow-x: hidden; }
.tab-button { width: 100%; background: none; border: none; color: #a0a0a0; font-size: 20px; padding: 6px 0; cursor: pointer; border-left: 2px solid transparent; transition: background .2s, color .2s; flex-shrink: 0; }
.tab-button:hover { background: #4a4a4a; }
.tab-button.active { background: #353535; color: #f5b300; border-left-color: #f5b300; }
.tabs-separator { width: 70%; height: 1px; background: #444; margin: 5px 0; flex-shrink: 0; }
.properties-content { flex-grow: 1; background: #353535; position: relative; overflow-y: auto; }
.properties-content>* { width: 100%; height: 100%; }
.placeholder-panel { display: flex; flex-direction: column; align-items: center; justify-content: center; color: #999; padding: 20px; text-align: center; }
.placeholder-panel h2 { margin-bottom: 10px; color: #ccc; }
app-brujula {
  position: absolute;
  top: 15px;
  right: 15px;
  /* Aumentamos el tamaño del espacio de 120px a 150px */
  width: 150px;
  height: 150px;
  z-index: 10;
  pointer-events: auto; /* Esto ya estaba bien */
}

/* ---- ESTILOS DEL INDICADOR DE EJE (sin cambios) ---- */
@keyframes slide-in-from-bottom { from { opacity: 0; transform: translate(-50%, 30px); } to { opacity: 1; transform: translate(-50%, 0); } }
.axis-lock-indicator { position: absolute; left: 50%; bottom: 20px; background: rgba(35, 35, 35, 0.5); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); color: #e0e0e0; padding: 10px 24px; border-radius: 25px; font-size: 16px; font-weight: 500; z-index: 10; pointer-events: none; border: 1px solid rgba(255, 255, 255, 0.1); box-shadow: 0 4px 20px rgba(0,0,0,0.3); text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4); animation: slide-in-from-bottom 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) forwards; }
.axis-lock-indicator b { font-weight: 700; color: #ffffff; }
.axis-lock-indicator.lock-x b { color: #ff556f; text-shadow: 0 0 10px #ff556f, 0 0 20px #ff556f; }
.axis-lock-indicator.lock-y b { color: #55ff88; text-shadow: 0 0 10px #55ff88, 0 0 20px #55ff88; }
.axis-lock-indicator.lock-z b { color: #55aaff; text-shadow: 0 0 10px #55aaff, 0 0 20px #55aaff; }
.camera-position-display {
  position: absolute;
  top: 90px;
  left: 10px;
  background-color: rgba(0, 0, 0, 0.6);
  color: white;
  padding: 8px;
  border-radius: 5px;
  font-family: monospace;
  font-size: 12px;
  z-index: 100;
  pointer-events: none; /* Para que no interfiera con el clic en la escena */
  line-height: 1.4;
}
/* ... (todos tus estilos existentes) ... */

/* ============================================== */
/* === NUEVO: ESTILOS PARA LA CRUZ (CROSSHAIR) === */
/* ============================================== */
.fly-mode-crosshair {
  position: absolute;
  top: 50%;
  left: 50%;
  /* Usamos transform para centrarlo perfectamente */
  transform: translate(-50%, -50%);
  /* Muy importante: para que no intercepte los clics del ratón */
  pointer-events: none; 
  z-index: 100;
  width: 20px;
  height: 20px;
}

.crosshair-line {
  position: absolute;
  background-color: rgba(255, 255, 0, 0.7); /* Amarillo semi-transparente */
  box-shadow: 0 0 5px rgba(255, 217, 0, 0.5); /* Un ligero brillo sutil */
}

.crosshair-line.horizontal {
  width: 100%; /* Ocupa todo el ancho del contenedor */
  height: 2px;
  top: 50%;
  left: 0;
  transform: translateY(-50%); /* Centrado vertical */
}

.crosshair-line.vertical {
  width: 2px;
  height: 100%; /* Ocupa toda la altura del contenedor */
  left: 50%;
  top: 0;
  transform: translateX(-50%); /* Centrado horizontal */
}

/* ============================================== */
/* === AJUSTES RESTANTES (sin cambios) === */
/* ============================================== */

/* ---- ESTILOS DEL PANEL DE PROPIEDADES (sin cambios) ---- */
/* ... etc ... */